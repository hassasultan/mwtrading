(function (m, s) { var n = s(".wishlist-btn"), v = s(".wishlist-tile-container"), o = s(".wishlist-counter"), p = v.length, t = localStorage.getItem("user_wishlist") || [], w = localStorage.getItem("user_wishlist_count"); if (w == null) { var _ = "0"; o.html(_) } else o.html(w); t.length > 0 && (t = JSON.parse(localStorage.getItem("user_wishlist"))); var I = function (i) { s(i).toggleClass("is-active") }, S = function (i) { var a = s(i).attr("data-product-handle"), r = s(i).hasClass("is-active"), f = localStorage.getItem("user_wishlist_count"); if (r) { var g = t.indexOf(a); t.splice(g, 1); var l = localStorage.getItem("user_wishlist_count"); if (l != null) { var h = -1, e = Math.max(parseInt(l) + h, 0); localStorage.setItem("user_wishlist_count", e) } localStorage.setItem("user_wishlist", JSON.stringify(t)); var c = s(i).find("span").length; c != 0 && attr != "product" && n.html('<span class="add-wishlist"><i class="ri-heart-line"></i></span><span class="loading-wishlist load-anim"><i class="ri-loader-4-line"></i></span><span class="remove-wishlist"><i class="ri-heart-fill"></i></span>'); var d = localStorage.getItem("user_wishlist_count"); o.html(d) } else { t.push(a); var l = localStorage.getItem("user_wishlist_count"); if (l == null) var u = 1, e = u; else var u = 1, e = Math.max(parseInt(l) + u, 0); localStorage.setItem("user_wishlist_count", e), localStorage.setItem("user_wishlist", JSON.stringify(t)); var c = s(i).find("span").length; c != 0 && attr != "product" && n.html('<span class="add-wishlist"><i class="ri-heart-line"></i></span><span class="loading-wishlist load-anim"><i class="ri-loader-4-line"></i></span><span class="remove-wishlist"><i class="ri-heart-fill"></i></span>'); var d = localStorage.getItem("user_wishlist_count"); o.html(d) } }, O = function () { n.each(function () { var i = s(this).attr("data-product-handle"); if (t.indexOf(i) > -1) { s(this).addClass("is-active"); var a = s(this).find("span").length; s(this).hasClass("is-active") ? a != 0 && attr != "product" && s(this).html('<span class="add-wishlist"><i class="ri-heart-line"></i></span><span class="loading-wishlist load-anim"><i class="ri-loader-4-line"></i></span><span class="remove-wishlist"><i class="ri-heart-fill"></i></span>') : a != 0 && attr != "product" && s(this).html('<span class="add-wishlist"><i class="ri-heart-line"></i></span><span class="loading-wishlist load-anim"><i class="ri-loader-4-line"></i></span><span class="remove-wishlist"><i class="ri-heart-fill"></i></span>') } }) }, x = function () { v.each(function () { var i = s(this).attr("data-product-handle"); t.indexOf(i) === -1 && (s(this).remove(), p--) }) }, y = function () { window.location.href.indexOf("pages/wishlist") > -1 && (x(), s(".wishlist-loader").fadeOut(2e3, function () { s(".wishlist-grid").addClass("is_visible"), s(".wishlist-hero").addClass("is_visible"), p == 0 ? (s(".wishlist-grid-empty-list").addClass("is_visible"), s(".wishlist-grid").hide()) : s(".wishlist-grid-empty-list").hide() })) }, C = function () { n.click(function (i) { i.preventDefault(), S(this), I(this) }) }; m.init = function () { C(), O(), y() }, s("#remove-done").click(function () { var i = localStorage.getItem("user_wishlist"), a = i.length, r, f = s(self).attr("data-product-handle"), g = s(self).hasClass("is-active"); for (r = a - 1; r >= 0; r--) { var l = t.indexOf(f); t.splice(l, 1); var h = localStorage.getItem("user_wishlist_count"); if (h != null) { var e = Math.max(parseInt(0), 0); localStorage.setItem("user_wishlist_count", e) } localStorage.setItem("user_wishlist", JSON.stringify(t)) } location.reload(!0) }) })(window.Wishlist = window.Wishlist || {}, jQuery, void 0); function reloadPage() { location.reload(!0) }
//# sourceMappingURL=/s/files/1/0641/3431/6288/t/2/assets/wishlist.js.map?v=146372695301814466001650619301
